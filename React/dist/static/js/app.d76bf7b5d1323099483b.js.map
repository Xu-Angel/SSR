{"version":3,"sources":["webpack:///./src/redux/actionTypes.ts","webpack:///./src/router/index.ts","webpack:///./src/api/index.ts","webpack:///./src/redux/actions.ts","webpack:///./src/router/NestedRoute.tsx","webpack:///./src/router/StatusRoute.tsx","webpack:///./src/redux/reducers.ts","webpack:///./src/App.tsx","webpack:///./src/entry-client.tsx","webpack:///./src/redux/store.ts"],"names":["__webpack_require__","d","__webpack_exports__","SET_CLIENT_LOAD","SET_TOP_LIST","SET_TOP_DETAIL","__dirname","router","_NestedRoute__WEBPACK_IMPORTED_MODULE_0__","_StatusRoute__WEBPACK_IMPORTED_MODULE_1__","_redux_actions__WEBPACK_IMPORTED_MODULE_2__","_loadable_component__WEBPACK_IMPORTED_MODULE_3__","path","component","loadable","chunkName","isReady","props","m","this","resolve","requireAsync","e","then","bind","requireSync","id","exact","asyncData","store","dispatch","fetchTopList","params","fetchTopDetail","topListUrl","topDetailUrl","setClientLoad","clientShouldLoad","type","getState","process","REACT_ENV","axios","get","Promise","reject","jsonp","param","prefix","err","data","response","code","topList","setTopList","getTopDetail","topinfo","top","topID","name","ListName","pic","info","topDetail","setTopDetail","react__WEBPACK_IMPORTED_MODULE_0__","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","NestedRoute","route","React","Route","render","routes","StatusRoute","_a","staticContext","console","log","statusCode","children","initialState","reducer","combineReducers","action","ActionTypes","__extends","extendStatics","b","setPrototypeOf","__proto__","Array","__","constructor","create","App","_super","Helmet","content","className","NavLink","to","Switch","map","key","Redirect","from","createApp","Component","createStore","applyMiddleware","thunkMiddleware","window","__INITIAL_STATE__","Provider","Router","loadableReady","ReactDOM","Root","document","getElementById"],"mappings":"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","file":"static/js/app.d76bf7b5d1323099483b.js","sourcesContent":["export var SET_CLIENT_LOAD = \"SET_CLIENT_LOAD\";\r\nexport var SET_TOP_LIST = \"SET_TOP_LIST\";\r\nexport var SET_TOP_DETAIL = \"SET_TOP_DETAIL\";\r\n","import NestedRoute from \"./NestedRoute\";\r\nimport StatusRoute from \"./StatusRoute\";\r\nimport { fetchTopList, fetchTopDetail } from \"../redux/actions\";\r\nimport loadable from \"@loadable/component\";\r\n// import Bar from \"../views/Bar\";\r\n// import Baz from \"../views/Baz\";\r\n// import Foo from \"../views/Foo\";\r\n// import TopList from \"../containers/TopList\";\r\n// import TopDetail from \"../containers/TopDetail\";\r\nvar router = [\r\n    {\r\n        path: \"/home\",\r\n        component: loadable(function () { return import(\"../views/Home/Home\"); })\r\n    },\r\n    {\r\n        path: \"/bar\",\r\n        component: loadable(function () { return import(\"../views/Bar\"); })\r\n    },\r\n    {\r\n        path: \"/baz\",\r\n        component: loadable(function () { return import(\"../views/Baz\"); })\r\n    },\r\n    {\r\n        path: \"/foo\",\r\n        component: loadable(function () { return import(\"../views/Foo\"); })\r\n    },\r\n    {\r\n        path: \"/top-list\",\r\n        component: loadable(function () { return import(\"../views/TopList/TopList\"); }),\r\n        exact: true,\r\n        asyncData: function (store) {\r\n            return store.dispatch(fetchTopList());\r\n        }\r\n    },\r\n    {\r\n        path: \"/top-list/:id\",\r\n        component: loadable(function () { return import(\"../views/TopDetail/TopDetail\"); }),\r\n        asyncData: function (store, params) {\r\n            return store.dispatch(fetchTopDetail(params.id));\r\n        }\r\n    }\r\n];\r\nexport default router;\r\nexport { router, NestedRoute, StatusRoute };\r\n","import axios from \"axios\";\r\nimport jsonp from \"jsonp\";\r\nvar topListUrl = \"https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg\";\r\nvar topDetailUrl = \"https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg?&type=top\";\r\nfunction getTopList() {\r\n    if (process.env.REACT_ENV === \"server\") {\r\n        return axios.get(topListUrl + \"?format=json\");\r\n    }\r\n    else {\r\n        // 客户端使用jsonp请求\r\n        return new Promise(function (resolve, reject) {\r\n            jsonp(topListUrl + \"?format=jsonp\", {\r\n                param: \"jsonpCallback\",\r\n                prefix: \"callback\"\r\n            }, function (err, data) {\r\n                if (!err) {\r\n                    var response = {};\r\n                    response.data = data;\r\n                    resolve(response);\r\n                }\r\n                else {\r\n                    reject(err);\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nfunction getTopDetail(id) {\r\n    if (process.env.REACT_ENV === \"server\") {\r\n        return axios.get(topDetailUrl + \"&format=json&topid=\" + id);\r\n    }\r\n    else {\r\n        return new Promise(function (resolve, reject) {\r\n            jsonp(topDetailUrl + \"&format=jsonp&topid=\" + id, {\r\n                param: \"jsonpCallback\",\r\n                prefix: \"callback\"\r\n            }, function (err, data) {\r\n                if (!err) {\r\n                    var response = {};\r\n                    response.data = data;\r\n                    resolve(response);\r\n                }\r\n                else {\r\n                    reject(err);\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nexport { getTopList, getTopDetail };\r\n","import { SET_CLIENT_LOAD, SET_TOP_LIST, SET_TOP_DETAIL } from \"./actionTypes\";\r\nimport { getTopList, getTopDetail } from \"../api\";\r\nexport function setClientLoad(clientShouldLoad) {\r\n    return { type: SET_CLIENT_LOAD, clientShouldLoad: clientShouldLoad };\r\n}\r\nexport function setTopList(topList) {\r\n    return { type: SET_TOP_LIST, topList: topList };\r\n}\r\nexport function setTopDetail(topDetail) {\r\n    return { type: SET_TOP_DETAIL, topDetail: topDetail };\r\n}\r\nexport function fetchTopList() {\r\n    // dispatch由thunkMiddleware传入\r\n    return function (dispatch, getState) {\r\n        return getTopList().then(function (response) {\r\n            var data = response.data;\r\n            if (data.code === 0) {\r\n                // 获取数据后dispatch，存入store\r\n                dispatch(setTopList(data.data.topList));\r\n            }\r\n            if (process.env.REACT_ENV === \"server\") {\r\n                dispatch(setClientLoad(false));\r\n            }\r\n        });\r\n    };\r\n}\r\nexport function fetchTopDetail(id) {\r\n    return function (dispatch, getState) {\r\n        return getTopDetail(id).then(function (response) {\r\n            var data = response.data;\r\n            if (data.code === 0) {\r\n                var topinfo = data.topinfo;\r\n                var top = {\r\n                    id: topinfo.topID,\r\n                    name: topinfo.ListName,\r\n                    pic: topinfo.pic,\r\n                    info: topinfo.info\r\n                };\r\n                dispatch(setTopDetail(top));\r\n            }\r\n            if (process.env.REACT_ENV === \"server\") {\r\n                dispatch(setClientLoad(false));\r\n            }\r\n        });\r\n    };\r\n}\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport * as React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nvar NestedRoute = function (route) { return (React.createElement(Route, { path: route.path, exact: route.exact, \r\n    /*渲染路由对应的视图组件，将路由组件的props传递给视图组件*/\r\n    render: function (props) { return React.createElement(route.component, __assign({}, props, { router: route.routes })); } })); };\r\nexport default NestedRoute;\r\n","import * as React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nvar StatusRoute = function (props) { return (React.createElement(Route, { render: function (_a) {\r\n        var staticContext = _a.staticContext;\r\n        // 客户端无staticContext对象\r\n        if (staticContext) {\r\n            // 设置状态码\r\n            /* eslint-disable */\r\n            console.log(props, 'props');\r\n            staticContext.statusCode = props.code;\r\n        }\r\n        return props.children;\r\n    } })); };\r\nexport default StatusRoute;\r\n","import { combineReducers } from \"redux\";\r\nimport * as ActionTypes from \"./actionTypes\";\r\nvar initialState = {\r\n    clientShouldLoad: true,\r\n    topList: [],\r\n    topDetail: {}\r\n};\r\nfunction combineClientShouldLoad(clientShouldLoad, action) {\r\n    if (clientShouldLoad === void 0) { clientShouldLoad = initialState.clientShouldLoad; }\r\n    switch (action.type) {\r\n        case ActionTypes.SET_CLIENT_LOAD:\r\n            return action.clientShouldLoad;\r\n        default:\r\n            return clientShouldLoad;\r\n    }\r\n}\r\nfunction combineTopList(topList, action) {\r\n    if (topList === void 0) { topList = initialState.topList; }\r\n    switch (action.type) {\r\n        case ActionTypes.SET_TOP_LIST:\r\n            return action.topList;\r\n        default:\r\n            return topList;\r\n    }\r\n}\r\nfunction combineTopDetail(topDetail, action) {\r\n    if (topDetail === void 0) { topDetail = initialState.topDetail; }\r\n    switch (action.type) {\r\n        case ActionTypes.SET_TOP_DETAIL:\r\n            return action.topDetail;\r\n        default:\r\n            return topDetail;\r\n    }\r\n}\r\nvar reducer = combineReducers({\r\n    clientShouldLoad: combineClientShouldLoad,\r\n    topList: combineTopList,\r\n    topDetail: combineTopDetail\r\n});\r\nexport default reducer;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport * as React from \"react\";\r\nimport { Switch, Redirect, NavLink } from \"react-router-dom\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { router, NestedRoute, StatusRoute } from \"./router\";\r\nimport \"./common/style/app.css\";\r\nvar App = /** @class */ (function (_super) {\r\n    __extends(App, _super);\r\n    function App() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    App.prototype.render = function () {\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(Helmet, null,\r\n                React.createElement(\"title\", null, \"This is App page\"),\r\n                React.createElement(\"meta\", { name: \"keywords\", content: \"React SSR\" })),\r\n            React.createElement(\"ul\", { className: \"nav\" },\r\n                React.createElement(\"li\", null,\r\n                    React.createElement(NavLink, { to: \"/bar\" }, \"Bar\")),\r\n                React.createElement(\"li\", null,\r\n                    React.createElement(NavLink, { to: \"/baz\" }, \"Baz\")),\r\n                React.createElement(\"li\", null,\r\n                    React.createElement(NavLink, { to: \"/foo\" }, \"Foo\")),\r\n                React.createElement(\"li\", null,\r\n                    React.createElement(NavLink, { to: \"/home\" }, \"Home\")),\r\n                React.createElement(\"li\", null,\r\n                    React.createElement(NavLink, { to: \"/top-list\" }, \"TopList\"))),\r\n            React.createElement(\"div\", { className: \"container\" },\r\n                React.createElement(Switch, null,\r\n                    router.map(function (route, i) {\r\n                        return React.createElement(NestedRoute, __assign({ key: i }, route));\r\n                    }),\r\n                    React.createElement(Redirect, { from: \"/\", to: \"/home\", exact: true }),\r\n                    React.createElement(StatusRoute, { code: 404 },\r\n                        React.createElement(\"div\", null,\r\n                            React.createElement(\"h1\", null, \"Not Found\")))))));\r\n    };\r\n    return App;\r\n}(React.Component));\r\nexport default App;\r\n","/// <reference types=\"webpack-env\" />\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { loadableReady } from \"@loadable/component\";\r\nimport createStore from \"./redux/store\";\r\nimport Root from \"./App\";\r\nvar createApp = function (Component) {\r\n    // 获取服务端初始化的state，创建store\r\n    var initialState = window.__INITIAL_STATE__;\r\n    var store = createStore(initialState);\r\n    var App = function () {\r\n        return (React.createElement(Provider, { store: store },\r\n            React.createElement(Router, null,\r\n                React.createElement(Component, null))));\r\n    };\r\n    return React.createElement(App, null);\r\n};\r\n// 开始渲染之前加载所需的组件\r\nloadableReady().then(function () {\r\n    ReactDOM.hydrate(createApp(Root), document.getElementById(\"app\"));\r\n});\r\n// 热更新\r\nif (module.hot) {\r\n    module.hot.accept(\"./App\", function () {\r\n        var NewApp = require(\"./App\").default;\r\n        ReactDOM.hydrate(createApp(NewApp), document.getElementById(\"app\"));\r\n    });\r\n}\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport reducer from \"./reducers\";\r\n// 导出函数，以便客户端和服务端根据初始state创建store\r\nexport default (function (store) {\r\n    return createStore(reducer, store, applyMiddleware(thunkMiddleware) // 允许store能dispatch函数\r\n    );\r\n});\r\n"],"sourceRoot":""}